<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Reactive</title>
    <script src="../node_modules/rx/dist/rx.all.js"></script>
    <!--<script src="../dist/flow.js"></script>-->
    <!--<script src="libs/lodash.min.3.10.0.js"></script>-->
    <!--<script src="libs/immutable.3.7.4.js"></script>-->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.10.0/lodash.js" type="text/javascript"></script>-->
    <script type="text/javascript">

        var subject = new Rx.Subject();
        var watcher = subject.subscribe(
                function(x){
                    console.log('1 onNext', x);
                },
                function(){
                    console.log('1 onCompleted');
                },
                function( error ){
                    console.log('1 onError', error );
                }
        );
        var count = 0;
        setInterval(function(){
            subject.onNext( new Date() );
        }, 2000);
        var watcher2;
        setTimeout( function(){
            watcher2 = subject.subscribe(
                    function(x){
                        console.log('2 onNext', x );
                    },
                    function(){
                        console.log('2 onCompleted');
                    },
                    function( error ){
                        console.log('2 onError', error );
                    }
            );
        }, 6000 )
        setTimeout( function(){
            watcher2.dispose();
        }, 7000 )

//

    </script>

</body>
</html>
